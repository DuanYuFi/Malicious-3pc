from Compiler.GC.types import *

n_threads = 32
n_parallel = 1000

n_gates = 2 ** 31

sb64 = sbits.get_type(64)

a = Array(n_gates >> 8, sb64)
b = Array(n_gates >> 8, sb64)
c = Array(n_gates >> 8, sb64)

a.assign_all(10)
b.assign_all(20)

@for_range_multithread(n_threads, n_parallel, n_gates >> 8)
def _(i):
    c[i] = a[i] & b[i]